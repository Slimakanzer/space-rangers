webpackJsonp([1],{"/+Am":function(t,e){},"1/oy":function(t,e){},"2N9M":function(t,e){},"5f2e":function(t,e){},"9M+g":function(t,e){},Fdom:function(t,e){},GQ87:function(t,e){},GfHa:function(t,e){},"Gfi+":function(t,e){},HCPl:function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},KGCy:function(t,e){},NEhR:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),i=n("e6fC"),s=n("mtWM"),o=n.n(s),r="GET_USER",c="UPDATE_USER",u="GET_SHIP",l="UPDATE_ATTACK_SHIP",h="UPDATE_USER_FRACTION",p={name:"AppHeader",data:function(){return{show:!1,form:{username:"",password:""},error:!1}},computed:{isAuthenticated:function(){return this.$store.getters.isAuthenticated},user:function(){return this.$store.getters.user}},mounted:function(){this.isAuthenticated&&this.$store.dispatch(r)},methods:{onSubmit:function(){var t=this;if(this.form.username||this.form.password)var e=new URLSearchParams;else alert("Set your username and password");e.append("username",this.form.username),e.append("password",this.form.password),this.$store.dispatch("AUTH_REQUEST",e).then(function(e){t.show=!1,t.error=!1,t.$store.dispatch(r),t.$router.push("/user")}).catch(function(e){t.$router.push("/"),t.error=!0})},onClickGoogle:function(){window.location.replace(ce+"/login/google")},onLogout:function(){var t=this;this.$store.dispatch("AUTH_LOGOUT"),this.$store.dispatch("AUTH_LOGOUT_USER").then(function(){t.$router.push("/"),t.user=null})}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-navbar",{attrs:{toggleable:"md",type:"light"}},[n("b-navbar-brand",[t._v("SpaceR")])],1),t._v(" "),n("b-navbar",{staticClass:"nav-bar-background",attrs:{toggleable:"md",type:"light",fixed:"top"}},[n("b-navbar-brand",{attrs:{to:{name:"MainPage"}}},[t._v("SpaceR")]),t._v(" "),n("b-navbar-nav",[n("b-nav-item",{attrs:{to:{name:"NewsList"}}},[t._v("Новости")])],1),t._v(" "),n("b-navbar-nav",{staticClass:"ml-auto"},[t.user?n("div",[t._v("\n        Добро пожаловать, "),n("b",[t._v(t._s(t.user.firstName)+" "+t._s(t.user.lastName))]),t._v(" "),n("b-btn",{attrs:{to:{name:"UserPage"},variant:"danger"}},[t._v("На карту")]),t._v(" "),n("b-btn",{attrs:{variant:"danger"},on:{click:t.onLogout}},[t._v("Logout")])],1):n("b-btn",{on:{click:function(e){t.show=!0}}},[t._v("Log in")]),t._v(" "),n("b-modal",{attrs:{lazy:!0,"ok-title":"Login"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("b-form",{on:{submit:t.onSubmit}},[n("b-form-group",{attrs:{label:"Логин"}},[n("b-form-input",{attrs:{type:"text",placeholder:"Username",required:""},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"Пароль"}},[n("b-form-input",{attrs:{type:"password",placeholder:"Password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),n("b-form-group",[n("b-button",{staticClass:"login-button",attrs:{variant:"primary",type:"submit"}},[t._v("Вход")])],1),t._v(" "),n("b-form-group",[n("b-button",{staticClass:"google-button",attrs:{variant:"outline-primary"},on:{click:t.onClickGoogle}},[n("b-img",{attrs:{rounded:"circle",width:"30",height:"30",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/1024px-Google_%22G%22_Logo.svg.png"}}),t._v("\n              Войти через Google\n            ")],1)],1)],1),t._v(" "),n("b-alert",{staticClass:"error-alert",attrs:{show:t.error,variant:"danger"}},[t._v("\n        Ошибка авторизации\n      ")]),t._v(" "),n("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[n("b-btn",{staticClass:"float-right",attrs:{variant:"primary"},on:{click:function(e){t.show=!1}}},[t._v("\n            Закрыть\n          ")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var v={name:"App",components:{AppHeader:n("VU/8")(p,d,!1,function(t){n("KGCy")},"data-v-4547dbaa",null).exports}},f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{height:"100%"}},[e("audio",{attrs:{src:"/static/space.mp3",autoplay:"autoplay",loop:"loop"}}),this._v(" "),e("app-header"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var _=n("VU/8")(v,f,!1,function(t){n("5f2e")},"data-v-eef3b836",null).exports,m=n("/ocq"),b={name:"NewsList",props:{count:Number},data:function(){return{news:null}},created:function(){var t,e=this;t=void 0===this.count?"":"?count="+this.count,o.a.get(ce+"/api/news"+t).then(function(t){e.news=t.data}).catch(function(t){return alert(t)})}},S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news-list"},[n("b-container",[n("b-row",{staticClass:"title-name"},[n("h1",[t._v("\n          Новости\n        ")])]),t._v(" "),t._l(t.news,function(e){return n("b-row",[n("b-card",{staticClass:"news",attrs:{title:e.name,"sub-title":new Date(e.date).toLocaleDateString("ru",{year:"numeric",month:"long",day:"numeric"})}},[n("hr"),t._v(" "),n("p",[t._v("\n          "+t._s(e.fullName.substring(0,200))+" ...\n        ")]),t._v(" "),n("div",[n("b-button",{attrs:{to:{name:"NewsPage",params:{id:e.id}},variant:"outline-primary",size:"sm"}},[t._v("Подробнее")])],1)])],1)})],2)],1)},staticRenderFns:[]};var E=n("VU/8")(b,S,!1,function(t){n("NEhR")},"data-v-5eced7ce",null).exports,g={name:"MainPage",components:{NewsList:E}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._m(0),this._v(" "),this._m(1),this._v(" "),e("div",[e("news-list",{attrs:{count:4}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"video_wrap"},[e("video",{staticClass:"video_bg",attrs:{autoplay:"autoplay",loop:"loop"}},[e("source",{attrs:{src:"/static/test.mp4",type:"video/mp4"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"video-background"},[e("div",[e("h1",[this._v("\n        Space Rangers\n      ")]),this._v(" "),e("h2",[this._v("\n        New revolutionary game\n      ")])])])}]};var T=n("VU/8")(g,w,!1,function(t){n("mZ+T")},"data-v-665522fe",null).exports,y={name:"NewsPage",data:function(){return{id:null,news:null}},mounted:function(){var t=this;this.id=this.$route.params.id,o.a.get(ce+"/api/news/"+this.id).then(function(e){t.news=e.data})}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news-page"},[n("b-container",{staticClass:"news-container"},[n("b-row",{staticClass:"news-inner"},[n("b-col",{attrs:{cols:"12"}},[n("h2",[t._v(t._s(t.news.name))]),t._v(" "),n("h4",[t._v(t._s(new Date(t.news.date).toLocaleDateString("ru",{year:"numeric",month:"long",day:"numeric"})))])])],1),t._v(" "),n("hr"),t._v(" "),n("b-row",{staticClass:"news-inner"},[n("b-col",{attrs:{cols:"12"}},[t._v(t._s(t.news.fullName))])],1)],1)],1)},staticRenderFns:[]};var I=n("VU/8")(y,C,!1,function(t){n("ml/u")},null,null).exports,F={name:"FractionList",computed:{fractions:function(){return this.$store.getters.fractions},userInFraction:function(){return!!this.$store.getters.userFraction&&"candidate"!=this.$store.getters.userFraction.stateUserFraction.name}},methods:{join:function(t){var e=this;this.$store.dispatch("JOIN_TO_FRACTION",t).then(function(){e.$store.dispatch(r),e.$store.dispatch(h)})}}},A={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.fractions,function(e){return n("b-card",[n("b-row",[n("b-col",[n("b-row",[n("b-col",[t._v("Название:")]),t._v(" "),n("b-col",[t._v(t._s(e.nameFraction))])],1),t._v(" "),n("b-row",[n("b-col",[t._v("Кол-во игроков:")]),t._v(" "),n("b-col")],1)],1),t._v(" "),t.userInFraction?t._e():n("b-col",[n("b-btn",{staticClass:"in-button",attrs:{variant:"outline-success"},on:{click:function(n){t.join(e.id)}}},[t._v("Подать заявку")])],1)],1)],1)}))},staticRenderFns:[]};var P=n("VU/8")(F,A,!1,function(t){n("GQ87")},"data-v-650d5426",null).exports,R={name:"CreateFraction",data:function(){return{createFraction:{nameFraction:null},errorCreate:!1}},methods:{createFractionFunc:function(){var t=this;this.$store.dispatch("CREATE_FRACTION",this.createFraction).then(function(){t.$store.dispatch("GET_ALL_FRACTIONS"),t.$store.dispatch(r),t.errorCreate=!1}).catch(function(){t.errorCreate=!0})}}},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"create-button"},[n("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-fraction-create",modifiers:{"collapse-fraction-create":!0}}],attrs:{variant:"primary"}},[t._v("Создать фракцию")]),t._v(" "),n("div",[n("b-collapse",{attrs:{id:"collapse-fraction-create"}},[n("b-card",[n("b-form",[n("b-form-input",{attrs:{type:"text",required:"",placeholder:"Название"},model:{value:t.createFraction.nameFraction,callback:function(e){t.$set(t.createFraction,"nameFraction",e)},expression:"createFraction.nameFraction"}}),t._v(" "),n("hr"),t._v(" "),n("b-row",[n("b-col",[n("b-btn",{staticClass:"create-button-main",attrs:{variant:"outline-success"},on:{click:t.createFractionFunc}},[t._v("Создать")])],1),t._v(" "),n("b-col",[n("h5",[t._v("Стоимость: 10000")])])],1),t._v(" "),n("b-alert",{attrs:{variant:"warning",show:t.errorCreate}},[t._v("\n              У вас не хватает денег\n            ")])],1)],1)],1)],1)],1)])},staticRenderFns:[]};var H={name:"FractionUserInformation",components:{CreateFraction:n("VU/8")(R,U,!1,function(t){n("g7cC")},"data-v-201cfec6",null).exports,FractionList:P},computed:{fraction:function(){return this.$store.getters.userFraction},userInFraction:function(){return!!this.$store.getters.userFraction&&"candidate"!==this.$store.getters.userFraction.stateUserFraction.name},user:function(){return this.$store.getters.user}},mounted:function(){this.$store.dispatch(h),this.$store.dispatch("GET_ALL_FRACTIONS")},methods:{date:function(t){return new Date(t).toLocaleDateString("ru",{year:"numeric",month:"long",day:"numeric"})},outFromFraction:function(){var t=this;this.$store.dispatch("OUT_FROM_FRACTION").then(function(){t.$store.dispatch(r),t.$store.dispatch(h)})},url:function(t){return"player"==t?"https://picsum.photos/900/250/?image=654":"left"==t?"https://picsum.photos/900/250/?image=120":"https://picsum.photos/900/250/?image=1042"}}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user?n("div",[t.fraction?n("b-card",{staticClass:"card-fraction",attrs:{overlay:"","img-src":t.url(t.fraction.stateUserFraction.name),"text-variant":"white"}},[n("h4",{staticClass:"fraction-name"},[n("b",[t._v(t._s(t.fraction.fraction.nameFraction))])]),t._v(" "),n("hr"),t._v(" "),n("b-row",[n("b-col",[n("h5",[t._v("Дата:")])]),t._v(" "),n("b-col",[n("h5",[t._v(t._s(t.date(t.fraction.date)))])])],1),t._v(" "),n("b-row",[n("b-col",[n("h5",[t._v("Статус:")])]),t._v(" "),n("b-col",[n("h5",[t._v(t._s(t.fraction.stateUserFraction.nameNormal))])])],1),t._v(" "),t.userInFraction?n("div",[n("b-btn",{staticClass:"leave-button",attrs:{variant:"outline-warning"},on:{click:t.outFromFraction}},[t._v("Выйти из фракции")])],1):t._e()],1):t._e(),t._v(" "),t.userInFraction?t._e():n("div",{staticClass:"text-fraction"},[n("create-fraction"),t._v(" "),n("b-alert",{attrs:{variant:"danger",show:""}},[t._v("\n      Вы не состоите во фракции\n    ")])],1),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"all-fractions"},[n("fraction-list")],1)],1):t._e()},staticRenderFns:[]};var $=n("VU/8")(H,N,!1,function(t){n("2N9M")},"data-v-2de48e60",null).exports,k=n("Zrlr"),G=n.n(k),O=n("//Fk"),L=n.n(O),x=[],B=[],M=[];function j(t){return new L.a(function(e,n){o.a.get(ce+"/api/game/systems/"+t+"/planets",{withCredentials:!0}).then(function(t){x.splice(0,x.length),t.data.forEach(function(t){!function(t){x.push(t)}(t)}),console.log(x),e(t)}).catch(function(t){n(t)})})}function Y(){return new L.a(function(t,e){o.a.get(ce+"/api/game/bases",{withCredentials:!0}).then(function(e){e.data.forEach(function(t){!function(t){B.push(t)}(t)}),t(e)}).catch(function(t){e(t)})})}var D=[];function X(){return new L.a(function(t,e){o.a.get(ce+"/api/game/ships",{withCredentials:!0}).then(function(e){e.data.forEach(function(t){!function(t){D.push(t)}(t)}),t(e)}).catch(function(t){D.splice(0,D.length),e(t)})})}var Z,V,z={dataAboutPlanet:{meshs:[],planets:x},dataAboutBase:{bases:B},dataForSystem:{width:window.innerWidth,height:window.innerHeight,loaderTexture:new THREE.TextureLoader,loaderFont:new THREE.FontLoader,camera:null,scene:null,renderer:null,gui:null,lastFildGui:{rotationX:null,rotationY:null,rotationZ:null,speed:null},pointReady:0,background:null},objectHover:{mouse:new THREE.Vector2,INTERSECTED:null,intersects:null,raycaster:null,count:x.length},ships:{ships:D,arrShips:[],count:0}},q=n("mvHQ"),K=n.n(q),J=n("O3w4"),Q=n.n(J),W=n("g7tO"),tt=n("NYxO"),et=n("bOdI"),nt=n.n(et);function at(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):void 0}var it,st,ot,rt,ct={state:{token:localStorage.getItem("user-token")||"",status:""},getters:{isAuthenticated:function(t){return!!t.token},authStatus:function(t){return t.status}},actions:(Z={},nt()(Z,"AUTH_GOOGLE_REQUEST",function(t){var e=t.commit,n=t.dispatch;return new L.a(function(t,a){n(r).then(function(){var n=at("auth");localStorage.setItem("user-token",n),e("AUTH_SUCCESS",n),t()}).catch(function(){e("AUTH_ERROR"),localStorage.removeItem("user-token"),a(error)})})}),nt()(Z,"AUTH_REQUEST",function(t,e){var n=t.commit;t.dispatch;return new L.a(function(t,a){n("AUTH_REQUEST"),o.a.post(ce+"/login",e,{withCredentials:!0}).then(function(e){var a=at("auth");localStorage.setItem("user-token",a),n("AUTH_SUCCESS",a),t(e)}).catch(function(t){n("AUTH_ERROR"),localStorage.removeItem("user-token"),a(t)})})}),nt()(Z,"AUTH_LOGOUT",function(t){var e=t.commit;t.dispatch;return new L.a(function(t,n){var a,i;e("AUTH_LOGOUT"),localStorage.removeItem("user-token"),a="user-token",(i=new Date).setTime(i.getTime()-1),document.cookie=a+="=; expires="+i.toGMTString(),t()})}),Z),mutations:(V={},nt()(V,"AUTH_REQUEST",function(t){t.status="loading"}),nt()(V,"AUTH_SUCCESS",function(t,e){var n;n=new Q.a(ce+"/space-rangers"),(_t=W.Stomp.over(n)).connect({},function(t){console.log("Connected: "+t),_t.subscribe("/topic/game",function(t){mt.forEach(function(e){return e(JSON.parse(t.body))})}),_t.subscribe("/topic/create",function(t){alert(t.body),St.forEach(function(e){return e(JSON.parse(t.body))})}),_t.subscribe("/topic/move",function(t){var e,n;e=JSON.parse(t.body),(n=z.ships.arrShips.find(function(t){return t.id===e.id})).obj.rotation.x=e.rotationShipX,n.obj.rotation.y=e.rotationShipY,n.obj.rotation.z=e.rotationShipZ,n.obj.position.z=e.locationShipZ,n.obj.position.x=e.locationShipX,n.obj.position.y=e.locationShipY}),_t.subscribe("/topic/attack",function(t){ft.dispatch(l,JSON.parse(t.body))}),_t.subscribe("/user/topic/error",function(t){bt.forEach(function(e){return e(JSON.parse(t.body).typeError)})}),_t.subscribe("/topic/user",function(t){ft.dispatch(c)}),_t.subscribe("/topic/fraction",function(t){var e=t.body;ft.getters.user.id==e&&ft.dispatch(h)}),_t.subscribe("/topic/base",function(t){var e=JSON.parse(t.body);Pt(e.locationBaseX,e.locationBaseY,e.locationBaseZ)})}),t.status="success",t.token=e}),nt()(V,"AUTH_ERROR",function(t){t.status="error",t.token=""}),nt()(V,"AUTH_LOGOUT",function(t){t.status="logout",t.token=""}),V)},ut={user:null,list:{bases:null,ships:null},info:{ship:{ship:null,otherShip:null,status:""},base:{base:null,status:"",listShips:null}},userFraction:null},lt=(it={},nt()(it,"UPDATE_INFO_USER",function(t,e){t.user.login=e.login,t.user.firstName=e.firstName,t.user.lastName=e.lastName}),nt()(it,r,function(t,e){t.user=e}),nt()(it,h,function(t,e){t.userFraction=e}),nt()(it,c,function(t,e){t.user.coins=e.coins,t.user.level=e.level}),nt()(it,"AUTH_LOGOUT_USER",function(t){t.user=null,t.list.bases=null,t.list.ships=null}),nt()(it,"GET_USER_BASE",function(t,e){t.list.bases=e}),nt()(it,"GET_USER_SHIPS",function(t,e){t.list.ships=e}),nt()(it,"GET_ITEM_BASE",function(t,e){t.info.base.base=e.base,t.info.base.status=e.status}),nt()(it,"GET_ITEM_SHIP",function(t,e){t.info.ship.ship=e.ship,t.info.ship.status=e.status}),nt()(it,"GET_ITEM_BASE_SHIPS",function(t,e){t.info.base.listShips=e}),nt()(it,"UPDATE_SHIP_LOCATION",function(t,e){t.info.ship.ship.rotationShipX=e.rotationShipX,t.info.ship.ship.rotationShipY=e.rotationShipY,t.info.ship.ship.rotationShipZ=e.rotationShipZ,t.info.ship.ship.locationShipX=e.locationShipX,t.info.ship.ship.locationShipY=e.locationShipY,t.info.ship.ship.locationShipZ=e.locationShipZ}),nt()(it,l,function(t,e){t.info.ship.otherShip.hp=e.hp,t.info.ship.otherShip.stateShip=e.stateShip}),nt()(it,u,function(t,e){t.user.id==e.user.id?t.info.ship.ship=e:t.info.ship.otherShip=e}),it),ht=(st={},nt()(st,"UPDATE_INFO_USER",function(t,e){var n=t.commit;t.dispatch;return new L.a(function(t,a){o.a.post(ce+"/api/user",e,{withCredentials:!0}).then(function(e){n("UPDATE_INFO_USER",e.data),t(e)}).catch(function(){a()})})}),nt()(st,h,function(t){var e=t.commit;t.dispatch;return new L.a(function(t,n){o.a.get(ce+"/api/user/fraction",{withCredentials:!0}).then(function(n){e(h,n.data),t(n)}).catch(function(){e(h,null),n()})})}),nt()(st,"JOIN_TO_FRACTION",function(t,e){t.commit,t.dispatch;return new L.a(function(t,n){o.a.post(ce+"/api/fraction/"+e+"/join",null,{withCredentials:!0}).then(function(e){t(e.data)}).catch(function(t){n(t)})})}),nt()(st,"CREATE_BASE",function(t,e){t.commit,t.dispatch;return new L.a(function(t,n){o.a.post(ce+"/api/user/base",e,{withCredentials:!0}).then(function(e){t(e.data)}).catch(function(t){n(t)})})}),nt()(st,"OUT_FROM_FRACTION",function(t){t.commit,t.dispatch;return new L.a(function(t,e){o.a.post(ce+"/api/fraction/out",null,{withCredentials:!0}).then(function(e){t(e.data)}).catch(function(t){e(t)})})}),nt()(st,u,function(t,e){var n=t.commit;t.dispatch;return new L.a(function(t,a){o.a.get(ce+"/api/game/ships/"+e,{withCredentials:!0}).then(function(e){n(u,e.data),t(e)}).catch(function(t){n(u,null),a(t)})})}),nt()(st,l,function(t,e){var n=t.commit;t.dispatch;n(l,e)}),nt()(st,"UPDATE_SHIP_LOCATION",function(t,e){var n=t.commit;t.dispatch;n("UPDATE_SHIP_LOCATION",e)}),nt()(st,r,function(t){var e=t.commit;t.dispatch;return new L.a(function(t,n){e(r),o.a.get(ce+"/api/user",{withCredentials:!0}).then(function(n){e(r,n.data),t(n)}).catch(function(t){e(r,null),n(t)})})}),nt()(st,c,function(t){var e=t.commit;t.dispatch;return new L.a(function(t,n){o.a.get(ce+"/api/user",{withCredentials:!0}).then(function(n){e(c,n.data),t(n)}).catch(function(t){e(c,null),n(t)})})}),nt()(st,"AUTH_LOGOUT_USER",function(t){var e=t.commit;t.dispatch;return new L.a(function(t,n){e("AUTH_LOGOUT_USER"),t()})}),nt()(st,"GET_USER_BASE",function(t){var e=t.commit;t.dispatch;return new L.a(function(t,n){e("GET_USER_BASE"),o.a.get(ce+"/api/user/base",{withCredentials:!0}).then(function(n){e("GET_USER_BASE",n.data),t(n)}).catch(function(t){e("GET_USER_BASE",null),n(t)})})}),nt()(st,"GET_USER_SHIPS",function(t){var e=t.commit;t.dispatch;return new L.a(function(t,n){e("GET_USER_SHIPS"),o.a.get(ce+"/api/user/ships",{withCredentials:!0}).then(function(n){e("GET_USER_SHIPS",n.data),t(n)}).catch(function(t){e("GET_USER_SHIPS",null),n(t)})})}),nt()(st,"GET_ITEM_BASE",function(t,e){var n=t.commit;t.dispatch;return new L.a(function(t,a){o.a.get(ce+"/api/user/base/"+e,{withCredentials:!0}).then(function(a){var i=a.data,s="";i.user.id===ut.user.id?(s="available",o.a.get(ce+"/api/user/base/"+e+"/ships",{withCredentials:!0}).then(function(t){n("GET_ITEM_BASE_SHIPS",t.data)}).catch(function(t){n("GET_ITEM_BASE_SHIPS",null)})):n("GET_ITEM_BASE_SHIPS",null),n("GET_ITEM_BASE",{base:i,status:s}),t(a)}).catch(function(t){n("GET_ITEM_BASE",{base:null,status:""}),a(t)})})}),nt()(st,"GET_ITEM_SHIP",function(t,e){var n=t.commit;t.dispatch;return new L.a(function(t,a){o.a.get(ce+"/api/user/ships/"+e,{withCredentials:!0}).then(function(e){var a=e.data,i="";a.user.id===ut.user.id&&(i="available"),n("GET_ITEM_SHIP",{ship:a,status:i}),t(e)}).catch(function(t){n("GET_ITEM_SHIP",{ship:null,status:""}),a(t)})})}),nt()(st,"GET_ITEM_BASE_SHIPS",function(t,e){var n=t.commit;t.dispatch;return new L.a(function(t,a){o.a.get(ce+"/api/user/base/"+e+"/ships",{withCredentials:!0}).then(function(e){n("GET_ITEM_BASE_SHIPS",e.data),t(e)}).then(function(t){n("GET_ITEM_BASE_SHIPS",null),a(t)})})}),nt()(st,"CREATE_SHIP",function(t,e){t.commit,t.dispatch;return new L.a(function(t,n){o.a.post(ce+"/api/user/ships",e,{withCredentials:!0}).then(function(e){t(e)}).catch(function(t){n(t)})})}),st),pt={state:ut,getters:{user:function(t){return t.user},bases:function(t){return t.list.bases},ships:function(t){return t.list.ships},ship:function(t){return t.info.ship},base:function(t){return t.info.base},otherShip:function(t){return t.info.ship.otherShip},userFraction:function(t){return t.userFraction}},actions:ht,mutations:lt},dt=(ot={},nt()(ot,"GET_USERS_IN_FRACTION",function(t,e){t.userFractions=e}),nt()(ot,"GET_ALL_FRACTIONS",function(t,e){t.fractions=e}),nt()(ot,"GET_TYPES_SHIP",function(t,e){t.types=e}),nt()(ot,"GET_ALL_SHIPS",function(t,e){t.ships=e}),nt()(ot,"ADD_SHIP",function(t,e){var n=t.ships,a=-1;n.filter(function(t,i){return t.id===e.id&&delete n[a=i],!0}),-1===a?n.push(e):t.ships.splice(a,1,e)}),nt()(ot,"GET_PLANET",function(t,e){t.planet=e}),nt()(ot,"GET_PLANET_ATTACK",function(t,e){t.attack=e}),ot),vt={state:{types:null,ships:[],planet:null,attack:null,fractions:[],userFractions:[]},getters:{types:function(t){return t.types},gameShips:function(t){return t.ships},planet:function(t){return t.planet},attack:function(t){return t.attack},fractions:function(t){return t.fractions},userFractions:function(t){return t.userFractions}},actions:(rt={},nt()(rt,"ACCEPT_USER",function(t,e){t.commit,t.dispatch;return new L.a(function(t,n){o.a.post(ce+"/api/fraction/"+e.fraction.id+"/accept",e,{withCredentials:!0}).then(function(e){t(e)}).catch(function(t){n(t)})})}),nt()(rt,"DELETE_USER",function(t,e){t.commit,t.dispatch;return new L.a(function(t,n){o.a.post(ce+"/api/fraction/"+e.fraction.id+"/delete",e,{withCredentials:!0}).then(function(e){t(e)}).catch(function(t){n(t)})})}),nt()(rt,"GET_USERS_IN_FRACTION",function(t,e){var n=t.commit;t.dispatch;return new L.a(function(t,a){o.a.get(ce+"/api/fraction/"+e+"/users",{withCredentials:!0}).then(function(e){n("GET_USERS_IN_FRACTION",e.data),t(e)}).catch(function(t){a(t)})})}),nt()(rt,"CREATE_FRACTION",function(t,e){t.commit,t.dispatch;return new L.a(function(t,n){o.a.post(ce+"/api/fraction",e,{withCredentials:!0}).then(function(e){t(e)}).catch(function(t){n(t)})})}),nt()(rt,"GET_COUNT_USERS",function(t,e){t.commit,t.dispatch;return new L.a(function(t,n){o.a.get(ce+"/api/fraction/"+e+"/users",{withCredentials:!0}).then(function(e){t(e.data)}).catch(function(t){n(t)})})}),nt()(rt,"GET_ALL_FRACTIONS",function(t){var e=t.commit;t.dispatch;return new L.a(function(t,n){o.a.get(ce+"/api/fraction",{withCredentials:!0}).then(function(n){e("GET_ALL_FRACTIONS",n.data),t(n)}).catch(function(t){e("GET_ALL_FRACTIONS",null),n(t)})})}),nt()(rt,"ATTACK_PLANET",function(t,e){var n=t.commit;t.dispatch;return new L.a(function(t,a){o.a.post(ce+"/api/game/planets/"+e+"/attack",null,{withCredentials:!0}).then(function(e){n("GET_PLANET",e.data),t(e)}).catch(function(t){a(t)})})}),nt()(rt,"GET_PLANET_ATTACK",function(t,e){var n=t.commit;t.dispatch;return new L.a(function(t,a){o.a.get(ce+"/api/game/planets/"+e+"/attack",{withCredentials:!0}).then(function(e){n("GET_PLANET_ATTACK",e.data),t(e)}).catch(function(t){n("GET_PLANET_ATTACK",null),a(t)})})}),nt()(rt,"GET_PLANET",function(t,e){var n=t.commit;t.dispatch;return new L.a(function(t,a){o.a.get(ce+"/api/game/planets/"+e,{withCredentials:!0}).then(function(e){n("GET_PLANET",e.data),t(e)}).catch(function(t){n("GET_PLANET",null),a(t)})})}),nt()(rt,"GET_TYPES_SHIP",function(t){var e=t.commit;t.dispatch;return new L.a(function(t,n){o.a.get(ce+"/api/game/ships/types",{withCredentials:!0}).then(function(n){e("GET_TYPES_SHIP",n.data),t(n)}).catch(function(t){e("GET_TYPES_SHIP",null),n(t)})})}),nt()(rt,"POWERUP_SHIP",function(t,e){t.commit,t.dispatch;return new L.a(function(t,n){o.a.put(ce+"/api/user/ships",e,{withCredentials:!0}).then(function(e){t(e)}).catch(function(t){console.log(t),n(t)})})}),nt()(rt,"GET_ALL_SHIPS",function(t){var e=t.commit;t.dispatch;return new L.a(function(t,n){o.a.get(ce+"/api/game/ships",{withCredentials:!0}).then(function(n){e("GET_ALL_SHIPS",n.data),t(n)}).catch(function(t){e("GET_ALL_SHIPS",null),n(t)})})}),nt()(rt,"ADD_SHIP",function(t,e){var n=t.commit;t.dispatch;return new L.a(function(t,a){n("ADD_SHIP",e)})}),rt),mutations:dt};a.a.use(tt.a);var ft=new tt.a.Store({modules:{auth:ct,user:pt,game:vt},strict:!0}),_t=null,mt=[],bt=[],St=[];function Et(t){bt.push(t)}function gt(t){_t.send("/app/fraction/update",{},t)}var wt,Tt=function t(e,n,a,i,s,o,r){G()(this,t),this.positionX=e,this.positionY=n,this.positionZ=a,this.rotationX=i,this.rotationY=s,this.rotationZ=o,this.speed=r};function yt(){z.dataForSystem.pointReady=0,z.dataAboutPlanet.meshs=[],z.ships.arrShips=[];var t,e=document.getElementById("canvas");e.setAttribute("width",z.dataForSystem.width),e.setAttribute("height",z.dataForSystem.height),Ct(),z.dataForSystem.scene=new THREE.Scene,z.dataForSystem.loaderTexture.load("/static/space.jpg",function(t){z.dataForSystem.background=t}),function(t,e,n,a,i,s){z.dataForSystem.camera=new THREE.PerspectiveCamera(t,z.dataForSystem.width/z.dataForSystem.height,e,n),z.dataForSystem.camera.position.set(a,i,s);var o=document.getElementById("canvas-block");new THREE.OrbitControls(z.dataForSystem.camera,o)}(65,.1,17e4,-1e3,1e3,1e3),t=16777215,z.dataForSystem.light=new THREE.AmbientLight(t),z.dataForSystem.scene.add(z.dataForSystem.light),j(1).then(function(){!function(){for(var t=0;t<z.dataAboutPlanet.planets.length;t++)z.dataAboutPlanet.planets[t].centerPlanet=Math.sqrt(Math.pow(z.dataAboutPlanet.planets[t].locationPlanetX/1e5,2)+Math.pow(z.dataAboutPlanet.planets[t].locationPlanetY/1e5,2)+Math.pow(z.dataAboutPlanet.planets[t].locationPlanetZ/1e5,2)),z.dataAboutPlanet.planets[t].cosAngleVerticale=Math.sqrt(Math.pow(z.dataAboutPlanet.planets[t].locationPlanetX/1e5,2)+Math.pow(z.dataAboutPlanet.planets[t].locationPlanetZ/1e5,2))/z.dataAboutPlanet.planets[t].centerPlanet,z.dataAboutPlanet.planets[t].delta=Math.acos(z.dataAboutPlanet.planets[t].locationPlanetX/1e5/z.dataAboutPlanet.planets[t].centerPlanet/z.dataAboutPlanet.planets[t].cosAngleVerticale)}();for(var t=0;t<z.dataAboutPlanet.planets.length;t++)It(t,t);var e;Y().then(function(){for(var t=0;t<z.dataAboutBase.bases.length;t++)Pt(z.dataAboutBase.bases[t].locationBaseX,z.dataAboutBase.bases[t].locationBaseY,z.dataAboutBase.bases[t].locationBaseZ)}),X().then(function(){z.ships.ships.forEach(function(t){Ut("shuttle",t,!1)})}),z.objectHover.raycaster=new THREE.Raycaster,document.addEventListener("mousemove",At,!1),window.addEventListener("resize",Ft,!1),function t(){var n;void 0==z.dataForSystem.scene.background&&(z.dataForSystem.scene.background=z.dataForSystem.background),z.dataForSystem.pointReady==z.dataAboutPlanet.planets.length&&(function(){for(var t=+new Date/6e3,e=1;e<z.dataAboutPlanet.planets.length;e++)z.dataAboutPlanet.meshs[e].position.x=0+z.dataAboutPlanet.planets[e].centerPlanet*z.dataAboutPlanet.planets[e].cosAngleVerticale*Math.cos(t+z.dataAboutPlanet.planets[e].delta),z.dataAboutPlanet.meshs[e].position.z=0+z.dataAboutPlanet.planets[e].centerPlanet*z.dataAboutPlanet.planets[e].cosAngleVerticale*Math.sin(t+z.dataAboutPlanet.planets[e].delta)}(),z.objectHover.raycaster.setFromCamera(z.objectHover.mouse,z.dataForSystem.camera),z.objectHover.intersects=z.objectHover.raycaster.intersectObjects(z.dataForSystem.scene.children,!0),z.objectHover.intersects.length>0?"base"!=z.objectHover.intersects[0].object.name&&("string"==typeof z.objectHover.intersects[0].object.name?-1!=z.objectHover.intersects[0].object.name.indexOf("ship")&&e!=z.objectHover.intersects[0].object.name.substring(z.objectHover.intersects[0].object.name.indexOf("_")+1)&&(e=z.objectHover.intersects[0].object.name.substring(z.objectHover.intersects[0].object.name.indexOf("_")+1),ft.dispatch(u,e).then(function(){le.$root.$emit("clickShip")})):z.objectHover.INTERSECTED!=z.objectHover.intersects[0].object&&z.objectHover.intersects.length<z.dataAboutPlanet.planets.length&&(z.objectHover.count++,1!=z.objectHover.count&&(n=z.objectHover.intersects[0].object.name,M.forEach(function(t){t(n)}),z.objectHover.intersects[0].object.geometry=new THREE.SphereGeometry(z.objectHover.intersects[0].object.geometry.parameters.radius+100,12,12),z.objectHover.count>=2&&null!=z.objectHover.INTERSECTED&&(z.objectHover.INTERSECTED.geometry=new THREE.SphereGeometry(z.objectHover.INTERSECTED.geometry.parameters.radius-100,12,12))),z.objectHover.INTERSECTED=z.objectHover.intersects[0].object)):(z.objectHover.count>=2&&null!=z.objectHover.INTERSECTED&&"base"!=z.objectHover.INTERSECTED.name&&(z.objectHover.INTERSECTED.geometry=new THREE.SphereGeometry(z.objectHover.INTERSECTED.geometry.parameters.radius-100,12,12)),z.objectHover.INTERSECTED=null)),z.dataForSystem.renderer.render(z.dataForSystem.scene,z.dataForSystem.camera),requestAnimationFrame(function(){t()})}()})}function Ct(){z.dataForSystem.renderer=new THREE.WebGLRenderer({canvas:canvas,antialias:!0}),z.dataForSystem.renderer.setClearColor(0)}function It(t,e){z.dataForSystem.loaderTexture.load("/static/planets/"+z.dataAboutPlanet.planets[t].img,function(e){var n=new THREE.MeshBasicMaterial({map:e}),a=new THREE.SphereGeometry(z.dataAboutPlanet.planets[t].rplanet/100,12,12),i=new THREE.Mesh(a,n);i.position.x+=z.dataAboutPlanet.planets[t].locationPlanetX/1e5,i.position.y+=z.dataAboutPlanet.planets[t].locationPlanetY/1e5,i.position.z+=z.dataAboutPlanet.planets[t].locationPlanetZ/1e5,i.name=z.dataAboutPlanet.planets[t],z.dataAboutPlanet.meshs.push(i),z.dataForSystem.scene.add(i),z.dataForSystem.pointReady++})}function Ft(){z.dataForSystem.camera.aspect=window.innerWidth/window.innerHeight,z.dataForSystem.camera.updateProjectionMatrix(),z.dataForSystem.renderer.setSize(window.innerWidth,window.innerHeight)}function At(t){z.objectHover.mouse.x=t.clientX/window.innerWidth*2-1,z.objectHover.mouse.y=-t.clientY/window.innerHeight*2+1}function Pt(t,e,n){for(var a=new THREE.MeshBasicMaterial({color:16777215,wireframe:!1,vertexColors:THREE.FaceColors}),i=new THREE.BoxGeometry(50,25,50),s=0;s<i.faces.length;s++)i.faces[s].color.setRGB(Math.random(),Math.random(),Math.random());var o=new THREE.Mesh(i,a);o.position.x+=t,o.position.y+=e,o.position.z+=n,o.name="base",z.dataForSystem.scene.add(o)}var Rt=new THREE.ObjectLoader;function Ut(t,e,n){Rt.load("/static/models/SpaceShips/"+t+"/"+t+".json",function(t){t.children[0].name="ship_"+e.id,t.children[1].name="ship_"+e.id,t.children[2].name="ship_"+e.id,t.children[3].name="ship_"+e.id,t.children[4].name="ship_"+e.id,t.children[5].name="ship_"+e.id,t.position.set(e.locationShipX,e.locationShipY,e.locationShipZ),t.scale.set(.1,.1,.1),z.dataForSystem.scene.add(t),wt=new Tt(e.locationShipX,e.locationShipY,e.locationShipZ,e.rotationShipX,e.rotationShipY,e.rotationShipZ,e.speed);var a=e.id;z.ships.arrShips.push({ship:wt,obj:t,id:a}),n&&function(t){null!=z.dataForSystem.lastFildGui.rotationX&&(z.dataForSystem.gui.remove(z.dataForSystem.lastFildGui.rotationX),z.dataForSystem.gui.remove(z.dataForSystem.lastFildGui.rotationY),z.dataForSystem.gui.remove(z.dataForSystem.lastFildGui.rotationZ),z.dataForSystem.gui.remove(z.dataForSystem.lastFildGui.speed));z.dataForSystem.lastFildGui.rotationX=z.dataForSystem.gui.add(t,"rotationX").min(-.001).max(.001).step(1e-4),z.dataForSystem.lastFildGui.rotationY=z.dataForSystem.gui.add(t,"rotationY").min(-.001).max(.001).step(1e-4),z.dataForSystem.lastFildGui.rotationZ=z.dataForSystem.gui.add(t,"rotationZ").min(-.001).max(.001).step(1e-4),z.dataForSystem.lastFildGui.speed=z.dataForSystem.gui.add(t,"speed").min(0).max(10).step(.1),z.dataForSystem.gui.open()}(wt)})}function Ht(t,e){var n;return t.rotationShipX+=e.rotationShipX,t.rotationShipY+=e.rotationShipY,t.rotationShipZ+=e.rotationShipZ,t.locationShipZ+=Math.sin(Math.PI/2+t.rotationShipX)*Math.cos(t.rotationShipY)*t.speed/30,t.locationShipX+=Math.sin(Math.PI/2+t.rotationShipX)*Math.sin(t.rotationShipY)*t.speed/30,t.locationShipY+=Math.cos(Math.PI/2+t.rotationShipX)*t.speed/30,n=t,_t.send("/app/ship/move",{},K()(n)),t}var Nt={name:"CreateBase",data:function(){return{createBase:{nameBase:null}}},methods:{createBaseFunc:function(){var t=this;this.$store.dispatch("CREATE_BASE",this.createBase).then(function(e){!function(t){_t.send("/app/base/create",{},K()(t))}(e),t.$store.dispatch(r),t.$store.dispatch("GET_USER_BASE")})}}},$t={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-base-create",modifiers:{"collapse-base-create":!0}}],staticClass:"create-button",attrs:{variant:"outline-danger",size:"sm"}},[t._v("Создать базу")]),t._v(" "),n("div",[n("b-collapse",{attrs:{id:"collapse-base-create"}},[n("b-card",[n("b-form",{staticClass:"form"},[n("b-form-input",{attrs:{type:"text",required:"",placeholder:"Название"},model:{value:t.createBase.nameBase,callback:function(e){t.$set(t.createBase,"nameBase",e)},expression:"createBase.nameBase"}}),t._v(" "),n("b-btn",{staticClass:"create-button",attrs:{variant:"primary"},on:{click:t.createBaseFunc}},[t._v("Создать")]),t._v(" "),n("hr"),t._v(" "),n("b-row",[n("b-col",[t._v("Стоимость:")]),t._v(" "),n("b-col",[t._v("1500")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var kt=n("VU/8")(Nt,$t,!1,function(t){n("e83K")},"data-v-bd122a12",null).exports,Gt={name:"FractionLeaderInformation",computed:{fraction:function(){return this.$store.getters.userFraction.fraction},userFractions:function(){return this.$store.getters.userFractions}},mounted:function(){this.$store.dispatch("GET_USERS_IN_FRACTION",this.fraction.id)},methods:{isUserInFraction:function(t){return"candidate"!==t.stateUserFraction.name},isLeader:function(t){return"leader"===t.stateUserFraction.name},deleteUser:function(t){var e=this;this.$store.dispatch("DELETE_USER",t).then(function(){gt(t.user.id),e.$store.dispatch("GET_USERS_IN_FRACTION",e.fraction.id)})},update:function(){this.$store.dispatch("GET_USERS_IN_FRACTION",this.fraction.id)},acceptUser:function(t){var e=this;this.$store.dispatch("ACCEPT_USER",t).then(function(){gt(t.user.id),e.$store.dispatch("GET_USERS_IN_FRACTION",e.fraction.id)})}}},Ot={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{"text-align":"center"}},[n("h3",[t._v(t._s(t.fraction.nameFraction))])]),t._v(" "),n("div",[n("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.fraction-join-collapse",modifiers:{"fraction-join-collapse":!0}}],staticClass:"join-button",attrs:{variant:"primary"}},[t._v("Список игроков: ")]),t._v(" "),n("div",[n("b-collapse",{attrs:{id:"fraction-join-collapse"}},[n("b-card",[n("b-btn",{staticClass:"join-button",attrs:{variant:"outline-danger"},on:{click:t.update}},[t._v("Обновить")]),t._v(" "),t._l(t.userFractions,function(e){return n("b-card",[n("b-row",[n("b-col",{attrs:{cols:"8"}},[n("b-row",[n("b-col",[t._v("Логин:")]),t._v(" "),n("b-col",[t._v("Имя:")]),t._v(" "),n("b-col",[t._v("Фамилия:")]),t._v(" "),n("b-col",[t._v("Звание:")])],1),t._v(" "),n("hr"),t._v(" "),n("b-row",[n("b-col",[t._v(t._s(e.user.login))]),t._v(" "),n("b-col",[t._v(t._s(e.user.firstName))]),t._v(" "),n("b-col",[t._v(t._s(e.user.lastName))]),t._v(" "),n("b-col",[t._v(t._s(e.stateUserFraction.nameNormal))])],1)],1),t._v(" "),n("b-col",{attrs:{cols:"4"}},[t.isLeader(e)?t._e():n("div",[t.isUserInFraction(e)?n("div",[n("b-btn",{staticClass:"command-button",attrs:{variant:"outline-warning"},on:{click:function(n){t.deleteUser(e)}}},[t._v("Удалить")])],1):n("div",[n("b-row",[n("b-btn",{staticClass:"join-button",attrs:{variant:"outline-success"},on:{click:function(n){t.acceptUser(e)}}},[t._v("Принять")])],1),t._v(" "),n("b-row",[n("b-btn",{staticClass:"join-button",attrs:{variant:"outline-danger"},on:{click:function(n){t.deleteUser(e)}}},[t._v("Отказать")])],1)],1)])])],1)],1)})],2)],1)],1)],1)])},staticRenderFns:[]};var Lt=n("VU/8")(Gt,Ot,!1,function(t){n("So8b")},"data-v-28336e1c",null).exports,xt=n("woOf"),Bt=n.n(xt),Mt={name:"UserInformation",computed:{user:function(){return this.$store.getters.user},userFraction:function(){return this.$store.getters.userFraction}},data:function(){return{userInfo:{login:null,firstName:null,lastName:null}}},methods:{updateInfoUser:function(){var t=Bt()({},this.user);t.login=this.userInfo.login,t.firstName=this.userInfo.firstName,t.lastName=this.userInfo.lastName,this.$store.dispatch("UPDATE_INFO_USER",t)}}},jt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",[n("b-col",[t._v("Login:")]),t._v(" "),n("b-col",[t._v("Имя:")]),t._v(" "),n("b-col",[t._v("Фамилия:")])],1),t._v(" "),n("hr"),t._v(" "),n("b-row",[n("b-col",[t._v(t._s(t.user.login))]),t._v(" "),n("b-col",[t._v(t._s(t.user.firstName))]),t._v(" "),n("b-col",[t._v(t._s(t.user.lastName))])],1),t._v(" "),n("hr"),t._v(" "),n("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.update-user-info-collapse",modifiers:{"update-user-info-collapse":!0}}],staticClass:"create-button",attrs:{variant:"outline-primary"}},[t._v("Изменить данные")]),t._v(" "),n("b-collapse",{attrs:{id:"update-user-info-collapse"}},[n("b-card",[n("b-form",{staticClass:"form",on:{submit:t.updateInfoUser}},[n("b-form-input",{attrs:{type:"text",required:"",placeholder:"Login"},model:{value:t.userInfo.login,callback:function(e){t.$set(t.userInfo,"login",e)},expression:"userInfo.login"}}),t._v(" "),n("b-form-input",{attrs:{type:"text",required:"",placeholder:"Имя"},model:{value:t.userInfo.firstName,callback:function(e){t.$set(t.userInfo,"firstName",e)},expression:"userInfo.firstName"}}),t._v(" "),n("b-form-input",{attrs:{type:"text",required:"",placeholder:"Фамилия"},model:{value:t.userInfo.lastName,callback:function(e){t.$set(t.userInfo,"lastName",e)},expression:"userInfo.lastName"}}),t._v(" "),n("b-btn",{staticClass:"create-button",attrs:{variant:"primary",type:"submit"}},[t._v("Сохранить")])],1)],1)],1)],1)},staticRenderFns:[]};var Yt={name:"MainInformation",components:{UserInformation:n("VU/8")(Mt,jt,!1,function(t){n("HCPl")},"data-v-2b5df325",null).exports,FractionUserInformation:$,FractionLeaderInformation:Lt},data:function(){return{showFractionInfo:!1,showBattleInfo:!1,showMainInfo:!0,showLeaderInfo:!1}},methods:{clickFractionInfo:function(){this.showFractionInfo=!0,this.showBattleInfo=!1,this.showMainInfo=!1,this.showLeaderInfo=!1},clickBattleInfo:function(){this.showFractionInfo=!1,this.showBattleInfo=!0,this.showMainInfo=!1,this.showLeaderInfo=!1},clickMainInfo:function(){this.showFractionInfo=!1,this.showBattleInfo=!1,this.showMainInfo=!0,this.showLeaderInfo=!1},clickLeaderInfo:function(){this.showFractionInfo=!1,this.showBattleInfo=!1,this.showMainInfo=!1,this.showLeaderInfo=!0}},computed:{isLeader:function(){return!!this.$store.getters.userFraction&&"leader"===this.$store.getters.userFraction.stateUserFraction.name}}},Dt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",[n("b-col",[n("b-btn",{staticClass:"buttons-info",attrs:{size:"sm",variant:"outline-primary"},on:{click:t.clickMainInfo}},[t._v("Основная")])],1),t._v(" "),n("b-col",[n("b-btn",{staticClass:"buttons-info",attrs:{size:"sm",variant:"outline-primary"},on:{click:t.clickFractionInfo}},[t._v("Фракции")])],1),t._v(" "),t.isLeader?n("b-col",[n("b-btn",{staticClass:"buttons-info",attrs:{size:"sm",variant:"outline-danger"},on:{click:t.clickLeaderInfo}},[t._v("Управление")])],1):t._e(),t._v(" "),n("b-col",[n("b-btn",{staticClass:"buttons-info",attrs:{size:"sm",variant:"outline-primary"},on:{click:t.clickBattleInfo}},[t._v("Битвы")])],1)],1),t._v(" "),n("b-card",[t.showFractionInfo?n("fraction-user-information"):t._e(),t._v(" "),t.showLeaderInfo?n("fraction-leader-information"):t._e(),t._v(" "),t.showMainInfo?n("user-information"):t._e()],1)],1)},staticRenderFns:[]};var Xt={name:"UserDisplay",components:{MainInformation:n("VU/8")(Yt,Dt,!1,function(t){n("/+Am")},"data-v-5c0ee998",null).exports,FractionLeaderInformation:Lt,CreateBase:kt,FractionUserInformation:$},data:function(){return{modalShow:!1}},methods:{clickBase:function(t){var e=this;this.$store.dispatch("GET_ITEM_BASE",t).then(function(){e.$root.$emit("clickBase")})},clickShip:function(t){var e=this;this.$store.dispatch("GET_ITEM_SHIP",t).then(function(){e.$root.$emit("clickShip")})}},beforeCreate:function(){this.$store.dispatch("GET_USER_BASE"),this.$store.dispatch("GET_USER_SHIPS")},computed:{user:function(){return this.$store.getters.user},bases:function(){return this.$store.getters.bases},ships:function(){return this.$store.getters.ships}},mounted:function(){var t,e=this;this.$store.dispatch(h),yt(),t=function(t){Ut("shuttle",t,!1),t.user.id===e.$store.getters.user.id&&(e.$store.dispatch(c),e.$store.dispatch("GET_ITEM_SHIP",t.id).then(function(){e.$store.dispatch("GET_USER_SHIPS"),e.$root.$emit("clickShip"),e.powerupError=!1,e.moneyError=!1}))},St.push(t)}},Zt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"left-block-main"},[n("div",{staticClass:"left-block-main"},[n("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-user-list",modifiers:{"collapse-user-list":!0}}],attrs:{variant:"primary"}},[t._v("\n      User: "+t._s(t.user.login)+"\n    ")]),t._v(" "),n("b-collapse",{attrs:{id:"collapse-user-list"}},[n("b-card",[n("h4",{staticClass:"focus-block",staticStyle:{"text-align":"center"},on:{click:function(e){t.modalShow=!t.modalShow}}},[t._v(t._s(t.user.login))]),t._v(" "),n("b-modal",{attrs:{size:"lg",centered:""},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[n("main-information")],1),t._v(" "),n("h5",{staticStyle:{"text-align":"center"}},[t._v("Уровень: "+t._s(t.user.level))]),t._v(" "),n("h5",{staticStyle:{"text-align":"center"}},[t._v("Деньги: "+t._s(t.user.coins))]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"create-base"},[n("create-base")],1),t._v(" "),n("div",[n("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-user-list-base",modifiers:{"collapse-user-list-base":!0}}],staticClass:"collapse-btns",attrs:{variant:"outline-primary"}},[t._v("\n            Базы: "+t._s(t.bases.length)+"\n          ")]),t._v(" "),n("div",{staticClass:"collapse-block"},[n("b-collapse",{staticClass:"collapse-block",attrs:{id:"collapse-user-list-base"}},t._l(t.bases,function(e){return n("div",{staticClass:"focus-block",on:{click:function(n){t.clickBase(e.id)}}},[n("b-card",[n("div",[t._v("Название: "+t._s(e.nameBase))]),t._v(" "),n("div",[t._v("Система: "+t._s(e.system.nameSystem))])])],1)}))],1)],1),t._v(" "),n("div",[n("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-user-list-ships",modifiers:{"collapse-user-list-ships":!0}}],staticClass:"collapse-btns",attrs:{variant:"outline-primary"}},[t._v("\n            Корабли: "+t._s(t.ships.length)+"\n          ")]),t._v(" "),n("div",{staticClass:"collapse-block"},[n("b-collapse",{staticClass:"collapse-block",attrs:{id:"collapse-user-list-ships"}},t._l(t.ships,function(e){return n("div",{staticClass:"focus-block",on:{click:function(n){t.clickShip(e.id)}}},[n("b-card",[n("div",[t._v("Название: "+t._s(e.nameShip))]),t._v(" "),n("div",[t._v("Система: "+t._s(e.system.nameSystem))]),t._v(" "),n("div",[t._v("hp: "+t._s(e.hp)+" sp: "+t._s(e.speed)+" pr: "+t._s(e.protection))])])],1)}))],1)],1)],1)],1)],1)])},staticRenderFns:[]};var Vt=n("VU/8")(Xt,Zt,!1,function(t){n("tNGc")},"data-v-3cdefdcd",null).exports;new THREE.ObjectLoader;var zt={name:"BaseInformation",data:function(){return{createShip:{base:null,nameShip:null,typeShip:null},moneyError:!1}},computed:{base:function(){return this.createShip.base=this.$store.getters.base.base,this.createShip.system=this.$store.getters.base.base.system,this.$store.getters.base.base},listShips:function(){return this.$store.getters.base.listShips},isModified:function(){return!!this.$store.getters.base.status},types:function(){return this.$store.getters.types}},mounted:function(){this.$store.dispatch("GET_TYPES_SHIP")},created:function(){var t=this;Et(function(e){"NOT_ENOUGH_MONEY_CREATE_SHIP"==e&&(t.moneyError=!0)})},methods:{createShipClick:function(){var t;t=this.createShip,_t.send("/app/ship/create",{},K()(t)),this.$store.dispatch("GET_USER_SHIPS")}}},qt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"header-base"},[n("h4",[t._v(t._s(t.base.nameBase))]),t._v(" "),n("h5",[t._v(t._s(t.base.user.login)+" ("+t._s(t.base.user.level)+" уровень)")]),t._v(" "),n("hr")]),t._v(" "),n("div",[t._v("\n    Система: "+t._s(t.base.system.nameSystem)+"\n  ")]),t._v(" "),n("div",[t._v("\n    Координаты X: "+t._s(t.base.locationBaseX)+"\n  ")]),t._v(" "),n("div",[t._v("\n    Координаты Y: "+t._s(t.base.locationBaseY)+"\n  ")]),t._v(" "),n("div",[t._v("\n    Координаты Z: "+t._s(t.base.locationBaseZ)+"\n  ")]),t._v(" "),n("hr"),t._v(" "),t.isModified?n("div",[n("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-ship-create",modifiers:{"collapse-ship-create":!0}}],staticClass:"create-button",attrs:{variant:"danger"}},[t._v("Создать корабль")]),t._v(" "),n("div",[n("b-collapse",{attrs:{id:"collapse-ship-create"}},[n("b-card",[n("b-form",{staticClass:"form"},[n("b-form-input",{attrs:{type:"text",required:"",placeholder:"Название"},model:{value:t.createShip.nameShip,callback:function(e){t.$set(t.createShip,"nameShip",e)},expression:"createShip.nameShip"}}),t._v(" "),n("b-form-select",{model:{value:t.createShip.typeShip,callback:function(e){t.$set(t.createShip,"typeShip",e)},expression:"createShip.typeShip"}},[n("template",{slot:"first"},[n("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("Тип корабля")])]),t._v(" "),t._l(t.types,function(e){return n("option",{domProps:{value:e}},[t._v(t._s(e.name))])})],2),t._v(" "),t.createShip.typeShip?n("div",[n("b-card",[n("b-container",{staticClass:"bv-example-row"},[n("b-row",[n("b-col",[t._v("Здоровье:")]),t._v(" "),n("b-col",[t._v(t._s(t.createShip.typeShip.hp))])],1),t._v(" "),n("b-row",[n("b-col",[t._v("Скорость:")]),t._v(" "),n("b-col",[t._v(t._s(t.createShip.typeShip.speed))])],1),t._v(" "),n("b-row",[n("b-col",[t._v("Защита:")]),t._v(" "),n("b-col",[t._v(t._s(t.createShip.typeShip.protection))])],1),t._v(" "),n("b-row",[n("b-col",[t._v("Стоимость:")]),t._v(" "),n("b-col",[t._v(t._s(t.createShip.typeShip.cost))])],1)],1)],1),t._v(" "),n("b-btn",{staticClass:"create-button",attrs:{variant:"primary"},on:{click:t.createShipClick}},[t._v("Создать")])],1):t._e()],1),t._v(" "),n("b-alert",{staticStyle:{"text-align":"center"},attrs:{variant:"danger",show:t.moneyError}},[t._v("У вас не достаточно денег")])],1)],1)],1),t._v(" "),n("hr"),t._v(" "),t._l(t.listShips,function(e){return n("div",[n("b-card",[n("div",[n("b",{staticStyle:{"font-size":"large"}},[t._v(t._s(e.nameShip)+":")]),t._v(" hp: "+t._s(e.hp)+" sp: "+t._s(e.speed)+" pr: "+t._s(e.protection))])])],1)})],2):t._e()])},staticRenderFns:[]};var Kt=n("VU/8")(zt,qt,!1,function(t){n("n+PV")},"data-v-168f691a",null).exports,Jt={data:function(){return{moneyError:!1,powerupError:!1,powerupErrorText:"",shipState:{rotationShipX:0,rotationShipY:0,rotationShipZ:0},tooFar:!1,canAttackShip:!1}},name:"ShipInformation",computed:{ship:function(){return this.moneyError=!1,this.powerupError=!1,this.$store.getters.ship.ship},otherShip:function(){return this.$store.getters.otherShip},variantBattle:function(){return this.isInArea?"danger":"warning"},canMove:function(){return this.ship.hp>0},canAttackComp:function(){var t,e=this;(t=this.otherShip,new L.a(function(e,n){o.a.post(ce+"/api/user/fraction",t,{withCredentials:!0}).then(function(t){e(t.data)}).catch(function(t){n(!1)})})).then(function(t){e.canAttackShip=!t}).catch(function(){e.canAttackShip=!1})},isInArea:function(){return this.otherShip&&this.ship?Math.sqrt(Math.pow(Math.abs(this.ship.locationShipX-this.otherShip.locationShipX),2)+Math.pow(Math.abs(this.ship.locationShipY-this.otherShip.locationShipY),2)+Math.pow(Math.abs(this.ship.locationShipZ-this.otherShip.locationShipZ),2))<=300?(this.tooFar=!1,!0):(this.tooFar=!0,!1):(this.tooFar=!1,!1)},isDestroyed:function(){return!this.otherShip||"destroyed"==this.otherShip.stateShip.name},isInUsersFraction:function(){return null!=this.$store.getters.user.userFraction&&(!this.otherShip&&void 0)},variantBars:function(){return this.isDestroyed?"secondary":this.canAttackShip?"danger":"success"}},created:function(){var t,e=this;Et(function(t){"NOT_ENOUGH_MONEY_POWERUP"==t&&(e.moneyError=!0)}),t=function(t){t.user.id===e.$store.getters.user.id&&(e.$store.dispatch(c),e.$store.dispatch("GET_ITEM_SHIP",t.id).then(function(){e.$store.dispatch("GET_USER_SHIPS"),e.$root.$emit("clickShip"),e.powerupError=!1,e.moneyError=!1}))},mt.push(t)},methods:{up:function(t){var e;e=t,_t.send("/app/ship/boost",{},K()(e))},upHealth:function(){var t=Bt()({},this.ship);this.powerupErrorText="здоровья",t.hp+=100,t.stateShip={id:2,name:"ready"},this.up(t)},upProtection:function(){var t=Bt()({},this.ship);this.powerupErrorText="защиты",t.protection+=2,this.up(t)},upSpeed:function(){var t=Bt()({},this.ship);this.powerupErrorText="скорости",t.speed+=10,this.up(t)},damage:function(){if(this.isInArea){var t=Bt()({},this.otherShip);t.hp-=200,e=t,_t.send("/app/ship/attack",{},K()(e))}var e},moveShip:function(){var t=Ht(Bt()({},this.ship),this.shipState);this.$store.dispatch("UPDATE_SHIP_LOCATION",t)},rotationShip:function(){Bt()({},this.ship);this.shipState.rotationShipX=Number(this.shipState.rotationShipX),this.shipState.rotationShipY=Number(this.shipState.rotationShipY),this.shipState.rotationShipZ=Number(this.shipState.rotationShipZ)}}},Qt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"header-ship"},[t.ship?n("div",[n("h4",[t._v(t._s(t.ship.nameShip)+" "),n("span",[t._v(" (ваш) ")])]),t._v(" "),n("h5",[t._v("("+t._s(t.ship.stateShip.nameNormal)+")")]),t._v(" "),n("hr"),t._v(" "),n("h5",[t._v(t._s(t.ship.typeShip.name))]),t._v(" "),n("hr"),t._v(" "),n("h5",[t._v("Здоровье")]),t._v(" "),n("b-progress",{staticClass:"mb-3",attrs:{value:t.ship.hp,max:t.ship.typeShip.hp,"show-value":"",variant:"primary"}}),t._v(" "),n("h5",[t._v("Защита")]),t._v(" "),n("b-progress",{staticClass:"mb-3",attrs:{value:t.ship.protection,max:50,"show-value":"",variant:"primary"}}),t._v(" "),n("h5",[t._v("Скорость")]),t._v(" "),n("b-progress",{staticClass:"mb-3",attrs:{value:t.ship.speed,max:1e3,"show-value":"",variant:"primary"}}),t._v(" "),n("hr"),t._v(" "),n("div",[n("div",{staticClass:"power-up"},[n("b-btn",{attrs:{variant:"outline-primary"},on:{click:t.upHealth}},[t._v("Здоровье +100")])],1),t._v(" "),n("div",{staticClass:"power-up"},[n("b-btn",{attrs:{variant:"outline-primary"},on:{click:t.upSpeed}},[t._v("Скорость +10")])],1),t._v(" "),n("div",{staticClass:"power-up"},[n("b-btn",{attrs:{variant:"outline-primary"},on:{click:t.upProtection}},[t._v("Защита +2")])],1),t._v(" "),n("b-alert",{attrs:{variant:"warning",show:t.powerupError}},[t._v("Достигнут мак. уровень "),n("b",[t._v(t._s(t.powerupErrorText))])]),t._v(" "),n("b-alert",{attrs:{variant:"danger",show:t.moneyError}},[t._v("Нет денег")]),t._v(" "),n("b-row",[n("b-col",[t._v("\n            X:\n          ")]),t._v(" "),n("b-col",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.shipState.rotationShipX,expression:"shipState.rotationShipX"}],attrs:{type:"range",min:"-0.1",max:"0.1",step:"0.01"},domProps:{value:t.shipState.rotationShipX},on:{change:t.rotationShip,__r:function(e){t.$set(t.shipState,"rotationShipX",e.target.value)}}})])],1),t._v(" "),n("b-row",[n("b-col",[t._v("\n            Y:\n          ")]),t._v(" "),n("b-col",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.shipState.rotationShipY,expression:"shipState.rotationShipY"}],attrs:{type:"range",min:"-0.1",max:"0.1",step:"0.01"},domProps:{value:t.shipState.rotationShipY},on:{change:t.rotationShip,__r:function(e){t.$set(t.shipState,"rotationShipY",e.target.value)}}})])],1),t._v(" "),n("b-row",[n("b-col",[t._v("\n            Z:\n          ")]),t._v(" "),n("b-col",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.shipState.rotationShipZ,expression:"shipState.rotationShipZ"}],attrs:{type:"range",min:"-0.1",max:"0.1",step:"0.01"},domProps:{value:t.shipState.rotationShipZ},on:{change:t.rotationShip,__r:function(e){t.$set(t.shipState,"rotationShipZ",e.target.value)}}})])],1),t._v(" "),t.canMove?n("b-btn",{staticClass:"move-button",attrs:{variant:"outline-success"},on:{click:t.moveShip}},[t._v("MOVE")]):t._e()],1)],1):t._e(),t._v(" "),n("hr"),t._v(" "),t.otherShip?n("div",[t.canAttackShip&&t.canMove?n("div",{staticClass:"power-up"},[n("b-btn",{attrs:{variant:t.variantBattle},on:{click:t.damage}},[t._v("Напасть")]),t._v(" "),n("b-alert",{attrs:{show:t.tooFar,variant:"warning"}},[t._v("Вы слишком далеко")])],1):t._e(),t._v(" "),n("h4",[t._v(t._s(t.otherShip.nameShip))]),t._v(" "),n("h5",[t._v(t._s(t.otherShip.user.login))]),t._v(" "),n("h5",[t._v(" ("+t._s(t.otherShip.stateShip.nameNormal)+")")]),t._v(" "),n("hr"),t._v(" "),n("h5",[t._v(t._s(t.otherShip.typeShip.name))]),t._v(" "),n("hr"),t._v(" "),n("h5",[t._v("Здоровье")]),t._v(" "),n("b-progress",{staticClass:"mb-3",attrs:{value:t.otherShip.hp,max:t.otherShip.typeShip.hp,"show-value":"",variant:t.variantBars}}),t._v(" "),n("h5",[t._v("Защита")]),t._v(" "),n("b-progress",{staticClass:"mb-3",attrs:{value:t.otherShip.protection,max:50,"show-value":"",variant:t.variantBars}}),t._v(" "),n("h5",[t._v("Скорость")]),t._v(" "),n("b-progress",{staticClass:"mb-3",attrs:{value:t.otherShip.speed,max:1e3,"show-value":"",variant:t.variantBars}}),t._v(" "),n("hr"),t._v("\n      "+t._s(t.canAttackComp)+"\n      "+t._s(t.canAttackShip)+"\n    ")],1):t._e()])])},staticRenderFns:[]};var Wt=n("VU/8")(Jt,Qt,!1,function(t){n("Gfi+")},"data-v-4c2daca2",null).exports,te={name:"PlanetInformation",computed:{planet:function(){return this.$store.getters.planet},attack:function(){return this.$store.getters.attack},isYour:function(){return this.planet.user.id===this.$store.getters.user.id}},methods:{attackPlanet:function(){alert("hello"),this.$store.dispatch("ATTACK_PLANET",this.planet.id)}}},ee={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"header-planet"},[n("h4",[t._v(t._s(t.planet.namePlanet))]),t._v(" "),n("h5",[t._v("\n      Управляет:\n      "),t.planet.user?n("span",[t._v(t._s(t.planet.user.login)+" "),t.isYour?n("span",[t._v("(вы)")]):t._e()]):n("span",{staticStyle:{color:"red"}},[t._v("никто")])]),t._v(" "),n("hr"),t._v(" "),n("b-row",[n("b-col",[t._v("Система:")]),t._v(" "),n("b-col",[t._v(t._s(t.planet.system.nameSystem))])],1),t._v(" "),n("b-row",[n("b-col",[t._v("Радиус:")]),t._v(" "),n("b-col",[t._v(t._s(t.planet.rplanet))])],1),t._v(" "),n("b-row",[n("b-col",[t._v("Условия:")]),t._v(" "),n("b-col",[t._v(t._s(t.planet.typeWeather.name))])],1),t._v(" "),n("hr"),t._v(" "),n("h5",[t._v("Ресурсы:")]),t._v(" "),n("b-row",[n("b-col",[t._v("Название:")]),t._v(" "),n("b-col",[t._v("Стоимость:")]),t._v(" "),n("b-col",[t._v("Количество:")])],1),t._v(" "),t._l(t.planet.resources,function(e){return n("b-row",[n("b-col",[t._v(t._s(e.typeResources.name))]),t._v(" "),n("b-col",[t._v(t._s(e.typeResources.cost))]),t._v(" "),n("b-col",[t._v(t._s(e.count))])],1)}),t._v(" "),n("hr")],2),t._v(" "),t.attack&&!t.isYour?n("div",[t.attack.attacked?n("b-btn",{staticClass:"attack-button",attrs:{variant:"danger"},on:{click:t.attackPlanet}},[t._v("Захватить")]):n("b-alert",{attrs:{show:"",variant:"warning"}},[t._v("Недостаточно кораблей ("+t._s(t.attack.countShips)+")")])],1):t._e()])},staticRenderFns:[]};var ne={name:"ItemDisplay",components:{PlanetInformation:n("VU/8")(te,ee,!1,function(t){n("b4y5")},"data-v-9a160820",null).exports,ShipInformation:Wt,BaseInformation:Kt},data:function(){return{showBase:!1,showShip:!1,showPlanet:!1}},mounted:function(){this.$root.$on("clickBase",this.setBase),this.$root.$on("clickShip",this.setShip),this.$root.$on("clickPlanet",this.setPlanet)},methods:{setBase:function(){var t,e,n,a=this.$store.getters.base.base;t=a.locationBaseX,e=a.locationBaseY,n=a.locationBaseZ,z.dataForSystem.camera.position.set(t-65,e+100,n+100),this.showBase=!0,this.showShip=!1,this.showPlanet=!1},setShip:function(){this.showBase=!1,this.showShip=!0,this.showPlanet=!1},setPlanet:function(){this.showBase=!1,this.showShip=!1,this.showPlanet=!0},createShip:function(){}}},ae={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"right-block"},[n("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-user-item",modifiers:{"collapse-user-item":!0}}],staticClass:"right-list",attrs:{variant:"danger"}},[t._v("Открыть панель")]),t._v(" "),n("b-collapse",{attrs:{id:"collapse-user-item"}},[n("b-card",[t.showBase?n("base-information"):t._e(),t._v(" "),t.showShip?n("ship-information"):t._e(),t._v(" "),t.showPlanet?n("planet-information"):t._e()],1)],1)],1)},staticRenderFns:[]};var ie={name:"UserPage",components:{ItemDisplay:n("VU/8")(ne,ae,!1,function(t){n("Fdom")},"data-v-f30a5ea0",null).exports,UserDisplay:Vt},data:function(){return{}},mounted:function(){var t,e=this;t=function(t){e.$store.dispatch("GET_PLANET",t.id).then(function(){e.$store.dispatch("GET_PLANET_ATTACK",t.id),e.$root.$emit("clickPlanet")})},M.push(t)}},se={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-user"},[e("div",{staticClass:"user-list-block"},[e("div",{staticClass:"list-block"},[e("user-display")],1)]),this._v(" "),e("div",{staticClass:"action-list-block"},[e("div",{staticClass:"list-block"},[e("item-display")],1)]),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"canvas-block",attrs:{id:"canvas-block"}},[e("canvas",{attrs:{id:"canvas"}})])}]};var oe=n("VU/8")(ie,se,!1,function(t){n("VNdC")},"data-v-1a5b2882",null).exports;a.a.use(m.a);var re=new m.a({routes:[{path:"/",name:"MainPage",component:T},{path:"/news",name:"NewsList",component:E},{path:"/news/:id",name:"NewsPage",component:I},{path:"/user",name:"UserPage",component:oe}]});n("Jmt5"),n("9M+g");n.d(e,"url",function(){return ce}),n.d(e,"component",function(){return le});var ce;ce="http://localhost:8080",a.a.config.productionTip=!1,a.a.use(i.a);var ue=localStorage.getItem("user-token");ue&&ft.commit("AUTH_SUCCESS",ue),at("gauth")&&ft.dispatch("AUTH_GOOGLE_REQUEST");var le=new a.a({el:"#app",router:re,store:ft,components:{App:_},template:"<App/>"})},So8b:function(t,e){},VNdC:function(t,e){},b4y5:function(t,e){},e83K:function(t,e){},g7cC:function(t,e){},"mZ+T":function(t,e){},"ml/u":function(t,e){},"n+PV":function(t,e){},tNGc:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ce13f200a00552b44425.js.map